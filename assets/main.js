"use strict";var pollux={media:{featured:{}},metabox:{}};pollux.media.featured.init=function(){jQuery("#postimagediv").on("click","#pollux-set-featured",function(e){e.preventDefault(),wp.media.view.settings.post.featuredImageId=Math.round(jQuery("#featured").val()),pollux.media.featured.frame=wp.media.featuredImage.frame,pollux.media.featured.frame().open()}).on("click","#pollux-remove-featured",function(e){e.preventDefault(),pollux.media.featured.frame=wp.media.featuredImage.frame,pollux.media.featured.set(-1)})},pollux.media.featured.select=function(){if(wp.media.view.settings.post.featuredImageId){var e=this.get("selection").single();pollux.media.featured.set(e?e.id:-1)}},pollux.media.featured.set=function(e){wp.media.view.settings.post.featuredImageId=Math.round(e),wp.media.post("pollux/archives/featured/html",{_wpnonce:jQuery("#_wpnonce").val(),post_type:jQuery("#archive-type").val(),thumbnail_id:e}).done(function(e){jQuery(".inside","#postimagediv").html(e)})},pollux.metabox.hasValue=function(e){return"checkbox"===e.type?!0===e.checked:""!==e.value},pollux.metabox.init=function(){var e=document.querySelectorAll(".rwmb-input [data-depends]");[].forEach.call(e,function(e){var t=pollux.metabox.setVisibility(e),a="checkbox"===t.type?"change":"keyup";t.addEventListener(a,function(){pollux.metabox.onChangeValue(e)},!1)})},pollux.metabox.onChangeValue=function(e){pollux.metabox.setVisibility(e)},pollux.metabox.setVisibility=function(e){var t=document.getElementById(e.getAttribute("data-depends")),a=e.closest(".rwmb-field");return pollux.metabox.hasValue(t)?a.classList.remove("hidden"):a.classList.add("hidden"),t},jQuery(function(){pollux.media.featured.init(),pollux.metabox.init()});